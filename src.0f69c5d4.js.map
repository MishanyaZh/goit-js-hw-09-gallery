{"version":3,"sources":["gallery-items.js","index.js"],"names":["preview","original","description","galleryContainer","document","querySelector","lightboxImageRef","modalRef","lightboxButtonCloseRef","overlayRef","addEventListener","closeModal","evt","code","bigImageArrow","item","galleryItems","push","idxOfOpenedImage","indexOf","src","onRightKeyClick","keyCode","length","console","log","onLeftKeyClick","galleryMarkup","createGalleryItemMarkup","map","join","onGalleryContainerClick","event","preventDefault","target","classList","contains","urlGalleryImage","dataset","source","altGalleryImag","alt","toggle","window","removeEventListener","insertAdjacentHTML"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACmJd,aAnJD,QAAA,oBAIA,IAAA,EAAA,EAAA,QAAA,uBA+IC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA3ID,MAAMC,EAAmBC,SAASC,cAAc,eAI1CC,EAAmBF,SAASC,cAAc,oBAI1CE,EAAWH,SAASC,cAAc,gBAIlCG,EAAyBJ,SAASC,cAAc,qBAIhDI,EAAaL,SAASC,cAAc,sBAG1CI,EAAWC,iBAAiB,QAASC,GAGrCP,SAASM,iBAAiB,UAAWE,IAChB,WAAbA,EAAIC,MAGRF,MAMJ,MAAMG,EAAgB,GACtB,IAAK,MAAMC,KAAQC,EAAnB,QACIF,EAAcG,KAAKF,EAAKd,UAG5B,IAAIiB,EAAmBJ,EAAcK,QAAQb,EAAiBc,KAG9D,SAASC,EAAgBT,GACD,KAAhBA,EAAIU,SAAkBJ,EAAmBJ,EAAcS,OAAO,IAC9DjB,EAAiBc,IAAMN,EAAcI,GAAmB,IAK5DM,QAAQC,IAAIb,GAGhB,SAASc,EAAed,GACA,KAAhBA,EAAIU,SAAkBJ,EAAmB,IACzCZ,EAAiBc,IAAMN,EAAcI,GAAmB,IAUhE,MAAMS,EAAgBC,EAAwBZ,EAAD,SAiB7C,SAASY,EAAwBZ,GACtBA,OAAAA,EAAaa,IAAI,EAAG7B,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,uFAIjCD,uDAEDD,6BACQC,qBACRC,6BAGT4B,KAAK,IAKZ,SAASC,EAAwBC,GAMzB,GAJJA,EAAMC,kBAGiBD,EAAME,OAAOC,UAAUC,SAAS,kBAEnD,OAIEC,MAAAA,EAAkBL,EAAME,OAAOI,QAAQC,OACvCC,EAAiBR,EAAME,OAAOO,IACpCjB,QAAQC,IAAIY,GACZb,QAAQC,IAAIe,GAGZjC,EAAS4B,UAAUO,OAAO,WAI1BpC,EAAiBc,IAAMiB,EACvB/B,EAAiBmC,IAAMD,EAIvBG,OAAOjC,iBAAiB,UAAWW,GACnCsB,OAAOjC,iBAAiB,UAAWgB,GAOvC,SAASf,EAAWqB,GAChBzB,EAAS4B,UAAUO,OAAO,WAG1BpC,EAAiBc,IAAM,GACvBd,EAAiBmC,IAAM,GAEvBE,OAAOC,oBAAoB,UAAWvB,GACtCsB,OAAOC,oBAAoB,UAAWlB,GAvE1CvB,EAAiB0C,mBAAmB,YAAalB,GAIjDxB,EAAiBO,iBAAiB,QAASqB,GAG3CvB,EAAuBE,iBAAiB,QAASC","file":"src.0f69c5d4.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","import './sass/main.scss';\n// import './gallery';\n// import './gallery-items';\n\nimport galleryItems from \"./gallery-items.js\";\n\n// console.log(createGalleryItemMarkup(galleryItems));\n\nconst galleryContainer = document.querySelector('.js-gallery');\n// console.log(galleryContainer);\n\n//modal image\nconst lightboxImageRef = document.querySelector('.lightbox__image');\n// console.log(lightboxImageRef);\n\n//modal\nconst modalRef = document.querySelector('.js-lightbox');\n// console.log(modalRef);\n\n// close modal button\nconst lightboxButtonCloseRef = document.querySelector('.lightbox__button');\n// console.log(lightboxButtonCloseRef);\n\n// --- 7 --- Закрытие модального окна по клику на div.lightbox__overlay.\nconst overlayRef = document.querySelector('.lightbox__overlay');\n// console.log(overlayRef);\n//  клик на div.lightbox__overlay. => closeModal\noverlayRef.addEventListener('click', closeModal);\n\n// ---8 escape ---\ndocument.addEventListener('keydown', evt => {\n    if (evt.code !== 'Escape') {\n        return;\n    }\n    closeModal()\n});\n\n\n\n// --- 9 --- right left\nconst bigImageArrow = [];\nfor (const item of galleryItems) {\n    bigImageArrow.push(item.original);\n}\n\nlet idxOfOpenedImage = bigImageArrow.indexOf(lightboxImageRef.src);\n// console.log(idxOfOpenedImage);\n\nfunction onRightKeyClick(evt) {\n    if (evt.keyCode === 39 && idxOfOpenedImage < bigImageArrow.length-1) {\n        lightboxImageRef.src = bigImageArrow[idxOfOpenedImage +=1]\n    }\n    // else {\n    //     lightboxImageRef.src = bigImageArrow[idxOfOpenedImage =0]\n    // }\n    console.log(evt);\n}\n\nfunction onLeftKeyClick(evt) {\n    if (evt.keyCode === 37 && idxOfOpenedImage > 0) {\n        lightboxImageRef.src = bigImageArrow[idxOfOpenedImage -=1]\n    }\n    //  else {\n    //     // lightboxImageRef.src = bigImageArrow.length-1\n    // }\n}\n\n\n\n// markup (rezultat roboty function, et o sozdanie rozmetky)\nconst galleryMarkup = createGalleryItemMarkup(galleryItems);\n// console.log(galleryMarkup);\n\n\n// --- 1.2 --- рендер разметки по массиву данных и предоставленному шаблону.\ngalleryContainer.insertAdjacentHTML('beforeend', galleryMarkup);\n\n\n// add click to galleryContainer\ngalleryContainer.addEventListener('click', onGalleryContainerClick);\n\n// click modal button\nlightboxButtonCloseRef.addEventListener('click', closeModal);\n\n\n\n// --- 1.1 --- Создание разметки по массиву данных и предоставленному шаблону.\nfunction createGalleryItemMarkup(galleryItems) {\n    return galleryItems.map(({ preview, original, description }) => {\n        return `\n    <li class=\"gallery__item\">\n    <a class=\"gallery__link\"\n        href= \"${original}\">\n    <img class=\"gallery__image\"\n        src= \"${preview}\"\n        data-source= \"${original}\"\n        alt= \"${description}\"/>\n    </a>\n    </li>`;\n    }).join('');\n}\n\n\n//lovim klik na galleryContainer\nfunction onGalleryContainerClick(event) {\n   // ERROR 403\n    event.preventDefault();\n\n    // --- 2.1 --- Реализация делегирования на галерее ul.js-gallery\n    const isGalleryImage = event.target.classList.contains('gallery__image');\n    if (!isGalleryImage) {\n        return;\n    }\n\n// --- 2.2 --- получение url большого изображения.\n    const urlGalleryImage = event.target.dataset.source;\n    const altGalleryImag = event.target.alt;\n    console.log(urlGalleryImage);\n    console.log(altGalleryImag);\n\n// --- 3 --- Открытие модального окна по клику на элементе галереи.\n    modalRef.classList.toggle('is-open');\n\n    \n// --- 4 --- Подмена значения атрибута src элемента img.lightbox__image.\n    lightboxImageRef.src = urlGalleryImage;\n    lightboxImageRef.alt = altGalleryImag;\n\n\n// ---right and left\n    window.addEventListener('keydown', onRightKeyClick);\n    window.addEventListener('keydown', onLeftKeyClick);\n\n    // onRightKeyClick();\n    // onLeftKeyClick();\n}\n\n// --- 5 --- Закрытие модального окна по клику на кнопку button[data-action=\"close-lightbox\"].\nfunction closeModal(event) {\n    modalRef.classList.toggle('is-open');\n\n    // --- 6 --- Очистка значения атрибута src элемента img.lightbox__image.\n    lightboxImageRef.src = \"\";\n    lightboxImageRef.alt = \"\";\n\n    window.removeEventListener('keydown', onRightKeyClick);\n    window.removeEventListener('keydown', onLeftKeyClick);\n}"]}